<!DOCTYPE html>
<html>
<head>
<title>For Bub â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin: 0;
  text-align: center;
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom right, #ff9a9e, #fad0c4);
  overflow: hidden;
}

h1 {
  margin-top: 80px;
  color: white;
  font-size: 2em;
}

button {
  padding: 12px 25px;
  font-size: 18px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  margin: 10px;
}

#startBtn {
  background-color: white;
  color: #ff4d6d;
}

.heart {
  position: absolute;
  font-size: 30px;
  cursor: pointer;
}

#game {
  display: none;
}

#proposal {
  display: none;
}

#yesBtn {
  background-color: #ff4d6d;
  color: white;
}

#noBtn {
  background-color: gray;
  color: white;
  position: relative;
}

/* Hide the YouTube player from view */
#yt-player {
  position: absolute;
  top: -9999px;
  left: -9999px;
  visibility: hidden;
}
</style>
</head>

<body>

<h1 id="intro">Hey Bub ğŸ’•<br>I made something just for you ğŸ˜Œ<br>Click below to start</h1>
<button id="startBtn" onclick="startGame()">Start Game</button>

<div id="game">
  <h1>Catch 10 hearts to unlock something special â¤ï¸</h1>
</div>

<div id="proposal">
  <h1>Bubâ€¦ will you be my Valentine? ğŸ’–</h1>
  <button id="yesBtn" onclick="sayYes()">YESSSS ğŸ’•</button>
  <button id="noBtn" onmouseover="moveNo()">No ğŸ˜¢</button>
</div>

<!-- HIDDEN YOUTUBE PLAYER -->
<div id="yt-player"></div>

<script>
let score = 0;
var player;

// 1. Load the YouTube IFrame API
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

// 2. Create the YouTube player object
function onYouTubeIframeAPIReady() {
  player = new YT.Player('yt-player', {
    height: '0',
    width: '0',
    videoId: '4tf0ZjN1UPE', // https://youtu.be/4tf0ZjN1UPE?si=TlUwvdg3V0IRTTXA
    playerVars: {
      'autoplay': 0,
      'loop': 1,
      'playlist': '4tf0ZjN1UPE'
    }
  });
}

function startGame() {
  // Start music using YouTube API on user click
  if (player && player.playVideo) {
    player.playVideo();
  }

  document.getElementById("intro").style.display = "none";
  document.getElementById("startBtn").style.display = "none";
  document.getElementById("game").style.display = "block";
  spawnHearts();
}

function spawnHearts() {
  let heart = document.createElement("div");
  heart.innerHTML = "â¤ï¸";
  heart.classList.add("heart");

  heart.style.left = Math.random() * (window.innerWidth - 40) + "px";
  heart.style.top = Math.random() * (window.innerHeight - 40) + "px";

  heart.onclick = function() {
    heart.remove();
    score++;
    if(score >= 10){
      showProposal();
    }
  };

  document.body.appendChild(heart);

  if(score < 10){
    setTimeout(spawnHearts, 800);
  }
}

function showProposal(){
  document.getElementById("game").style.display = "none";
  document.getElementById("proposal").style.display = "block";
}

function moveNo(){
  let noBtn = document.getElementById("noBtn");
  noBtn.style.position = "absolute";
  noBtn.style.left = Math.random() * (window.innerWidth - 100) + "px";
  noBtn.style.top = Math.random() * (window.innerHeight - 50) + "px";
}

function sayYes(){
  document.body.innerHTML = "<h1 style='margin-top:150px;color:white;'>Bub ğŸ’•<br>You just made me the happiest person alive ğŸ˜­â¤ï¸<br>Nothingâ€™s ever gonna change my love for you ğŸ’–</h1>";
}
</script>

</body>
</html>
