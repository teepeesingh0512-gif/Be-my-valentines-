<!DOCTYPE html>
<head>
<title>For Bub â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin: 0;
  text-align: center;
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom right, #ff9a9e, #fad0c4);
  overflow: hidden;
}

h1 {
  margin-top: 80px;
  color: white;
  font-size: 2em;
}

button {
  padding: 12px 25px;
  font-size: 18px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  margin: 10px;
}

#startBtn {
  background-color: white;
  color: #ff4d6d;
}

.heart {
  position: absolute;
  font-size: 30px;
  cursor: pointer;
}

#game {
  display: none;
}

#proposal {
  display: none;
}

#yesBtn {
  background-color: #ff4d6d;
  color: white;
}

#noBtn {
  background-color: gray;
  color: white;
  position: relative;
}
</style>
</head>

<body>

<h1 id="intro">Hey Bub ğŸ’•<br>I made something just for you ğŸ˜Œ<br>Click below to start</h1>
<button id="startBtn" onclick="startGame()">Start Game</button>

<div id="game">
  <h1>Catch 10 hearts to unlock something special â¤ï¸</h1>
</div>

<div id="proposal">
  <h1>Bubâ€¦ will you be my Valentine? ğŸ’–</h1>
  <button id="yesBtn" onclick="sayYes()">YESSSS ğŸ’•</button>
  <button id="noBtn" onmouseover="moveNo()">No ğŸ˜¢</button>
</div>

<!-- FIXED: Removed nested audio tag and ensured ID is unique -->
<audio id="bgMusic" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
let score = 0;

function startGame() {
  // FIXED: Trigger music play here on user interaction
  let music = document.getElementById("bgMusic");
  music.play().catch(error => {
    console.log("Audio failed to play. Check file path or console for errors.");
  });

  document.getElementById("intro").style.display = "none";
  document.getElementById("startBtn").style.display = "none";
  document.getElementById("game").style.display = "block";
  spawnHearts();
}

function spawnHearts() {
  let heart = document.createElement("div");
  heart.innerHTML = "â¤ï¸";
  heart.classList.add("heart");

  heart.style.left = Math.random() * (window.innerWidth - 40) + "px";
  heart.style.top = Math.random() * (window.innerHeight - 40) + "px";

  heart.onclick = function() {
    heart.remove();
    score++;
    if(score >= 10){
      showProposal();
    }
  };

  document.body.appendChild(heart);

  if(score < 10){
    setTimeout(spawnHearts, 800);
  }
}

function showProposal(){
  document.getElementById("game").style.display = "none";
  document.getElementById("proposal").style.display = "block";
}

function moveNo(){
  let noBtn = document.getElementById("noBtn");
  noBtn.style.position = "absolute";
  noBtn.style.left = Math.random() * (window.innerWidth - 100) + "px";
  noBtn.style.top = Math.random() * (window.innerHeight - 50) + "px";
}

function sayYes(){
  document.body.innerHTML = "<h1 style='margin-top:150px;color:white;'>Bub ğŸ’•<br>You just made me the happiest person alive ğŸ˜­â¤ï¸<br>Nothingâ€™s ever gonna change my love for you ğŸ’–</h1>";
}
</script>

</body>
</html>
